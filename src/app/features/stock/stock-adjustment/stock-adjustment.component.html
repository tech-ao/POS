<div class="page-header">
  <div class="add-item d-flex">
    <div class="page-title">
      <h4>Stock Adjustment</h4>
      <h6>Manage your stock adjustment</h6>
    </div>
  </div>
  <ul class="table-top-head">
    <li>
      <a
        data-bs-toggle="tooltip"
        data-bs-placement="top"
        title="Pdf"
        matTooltip="Pdf"
        matTooltipPosition="above"
        ><img src="assets/img/icons/pdf.svg" alt="img"
      /></a>
    </li>
    <li>
      <a
        data-bs-toggle="tooltip"
        data-bs-placement="top"
        title="Excel"
        matTooltip="Excel"
        matTooltipPosition="above"
        ><img src="assets/img/icons/excel.svg" alt="img"
      /></a>
    </li>
    <li>
      <a
        data-bs-toggle="tooltip"
        data-bs-placement="top"
        title="Refresh"
        matTooltip="Refresh"
        matTooltipPosition="above"
        ><i class="ti ti-refresh"></i
      ></a>
    </li>
    <li>
      <a
        (click)="toggleCollapse()" [class.active]="isCollapsed"
        data-bs-toggle="tooltip"
        data-bs-placement="top"
        title="Collapse"
        id="collapse-header"
        matTooltip="Collapse"
        matTooltipPosition="above"
        > @if (!isCollapsed) {
        <i class="ti ti-chevron-up"></i>
      }
      @if (isCollapsed) {
        <i class="ti ti-chevron-up"></i>
      }</a>
    </li>
  </ul>
  <div class="page-btn">
    <a
      href="javascript:void(0);"
      class="btn btn-primary"
      data-bs-toggle="modal"
      data-bs-target="#add-units"
      ><i class="ti ti-circle-plus me-2"></i>Add Adjustment</a
      >
    </div>
  </div>
  <!-- /product list -->
  <div class="card table-list-card">
    <div class="card-header d-flex align-items-center justify-content-between flex-wrap row-gap-3">
      <div class="search-set">
        <div class="search-input">
          <a href="javascript:void(0);" class="btn btn-searchset"
            ><i class="feather icon-search feather-search"></i
          ></a>
          <div class="dataTables_filter">
            <label>
              <input
                [(ngModel)]="searchDataValue" [ngModelOptions]="{standalone: true}"
                (ngModelChange)="searchData(searchDataValue)"
                type="search"
                class="form-control"
                placeholder="Search"
                />
              </label>
            </div>
          </div>
      </div>
      <div class="d-flex table-dropdown my-xl-auto right-content align-items-center flex-wrap row-gap-3">
        <div class="dropdown me-2">
          <a href="javascript:void(0);" class="dropdown-toggle btn btn-white btn-md d-inline-flex align-items-center" data-bs-toggle="dropdown">
            Warehouse
          </a>
          <ul class="dropdown-menu  dropdown-menu-end p-3">
            <li>
              <a href="javascript:void(0);" class="dropdown-item rounded-1">Lavish Warehouse</a>
            </li>
            <li>
              <a href="javascript:void(0);" class="dropdown-item rounded-1">Quaint Warehouse </a>
            </li>
            <li>
              <a href="javascript:void(0);" class="dropdown-item rounded-1">Traditional Warehouse</a>
            </li>
            <li>
              <a href="javascript:void(0);" class="dropdown-item rounded-1">Cool Warehouse</a>
            </li>
          </ul>
        </div>
        <div class="dropdown">
          <a href="javascript:void(0);" class="dropdown-toggle btn btn-white btn-md d-inline-flex align-items-center" data-bs-toggle="dropdown">
            Sort By : Last 7 Days
          </a>
          <ul class="dropdown-menu  dropdown-menu-end p-3">
            <li>
              <a href="javascript:void(0);" class="dropdown-item rounded-1">Recently Added</a>
            </li>
            <li>
              <a href="javascript:void(0);" class="dropdown-item rounded-1">Ascending</a>
            </li>
            <li>
              <a href="javascript:void(0);" class="dropdown-item rounded-1">Desending</a>
            </li>
            <li>
              <a href="javascript:void(0);" class="dropdown-item rounded-1">Last Month</a>
            </li>
            <li>
              <a href="javascript:void(0);" class="dropdown-item rounded-1">Last 7 Days</a>
            </li>
          </ul>
        </div>
      </div>
    </div>
    <div class="card-body">
        <div class="table-responsive">
          <table matSort (matSortChange)="sortData($event)" class="table datanew">
            <thead>
              <tr>
                <th class="no-sort">
                  <label class="checkboxs" (click)="selectAll(initChecked)">
                    <input type="checkbox" id="select-all"   [(ngModel)]="initChecked" />
                    <span class="checkmarks"></span>
                  </label>
                </th>
                <th mat-sort-header="warehouse">Warehouse</th>
                <th mat-sort-header="shop">Shop</th>
                <th mat-sort-header="product">Product</th>
                <th mat-sort-header="date">Date</th>
                <th mat-sort-header="person">Person</th>
                <th mat-sort-header="quantity">Qty</th>
                <th class="no-sort"></th>
              </tr>
            </thead>
            <tbody>
              @for (data of tableData; track data) {
                <tr>
                  <td>
                    <label class="checkboxs">
                      <input type="checkbox"   [(ngModel)]="data.isSelected"/>
                      <span class="checkmarks"></span>
                    </label>
                  </td>
                  <td>{{ data.warehouse }}</td>
                  <td>{{ data.store }}</td>
                  <td>
                    <div class="d-flex align-items-center">
                      <a href="javascript:void(0);" class="avatar avatar-md me-2">
                        <img src="assets/img/products/{{data.img}}" alt="product">
                      </a>
                      <a href="javascript:void(0);">{{ data.product }}</a>
                    </div>
                  </td>
                  <td>{{ data.date }}</td>
                  <td>
                    <div class="d-flex align-items-center">
                      <a href="javascript:void(0);" class="avatar avatar-md me-2">
                        <img src="assets/img/users/{{data.img2}}" alt="product">
                      </a>
                      <a href="javascript:void(0);">{{ data.person }}</a>
                    </div>
                  </td>
                  <td>{{ data.quantity }}</td>
                  <td class="action-table-data">
                    <div class="edit-delete-action">
                      <a class="me-2 border rounded d-flex align-items-center p-2" href="javascript:void(0);" data-bs-toggle="modal" data-bs-target="#view-notes">
                        <i class="feather icon-file-text"></i>
                      </a>
                      <a
                        class="me-2 p-2"
                        href="javascript:void(0);"
                        data-bs-toggle="modal"
                        data-bs-target="#edit-units"
                        >
                        <i class="feather icon-edit feather-edit"></i>
                      </a>
                      <a
                        class="confirm-text p-2"
                        href="javascript:void(0);"
                        data-bs-toggle="modal" data-bs-target="#delete"
                        >
                        <i class="feather icon-trash-2 feather-trash-2"></i>
                      </a>
                    </div>
                  </td>
                </tr>
              }	
              @if (tableData.length === 0) {
                    <tr>
<td colspan="10" class="text-center"> No matching records found </td>
                    </tr>
                }
            </tbody>
          </table>
        </div>
        <app-custom-pagination></app-custom-pagination>
      </div>
    </div>
                      <!-- /product list -->
		<!-- Add Adjustment -->
		<div class="modal fade" id="add-units">
			<div class="modal-dialog modal-dialog-centered stock-adjust-modal">
				<div class="modal-content">
					<div class="modal-header">
						<div class="page-title">
							<h4>Add Adjustment</h4>
						</div>
						<button type="button" class="close" data-bs-dismiss="modal" aria-label="Close">
							<span aria-hidden="true">&times;</span>
						</button>
					</div>
					<form>
						<div class="modal-body">
							<div class="search-form mb-3">
								<label class="form-label">Product<span class="text-danger ms-1">*</span></label>
								<div class="position-relative">

									<input type="text" class="form-control" placeholder="Search Product">
									<i data-feather="search" class="feather icon-search"></i>
								</div>
							</div>
							<div class="row">
								<div class="col-lg-6">
									<div class="mb-3">
										<label class="form-label">Warehouse<span class="text-danger ms-1">*</span></label>
										<mat-select class="custom-mat-select select" placeholder="Select">
											<mat-option value="1">Select</mat-option>
											<mat-option value="1">Lavish Warehouse</mat-option>
											<mat-option value="1">Quaint Warehouse</mat-option>
											<mat-option value="1">Cool Warehouse</mat-option>
											<mat-option value="1">Retail Supply Hub</mat-option>
										</mat-select>
									</div>
								</div>
								<div class="col-lg-6">
									<div class="mb-3">
										<label class="form-label">Reference Number<span class="text-danger ms-1">*</span></label>
										<input type="text" class="form-control">
									</div>
								</div>
								<div class="col-lg-12">
									<div class="mb-3">
										<label class="form-label">Store<span class="text-danger ms-1">*</span></label>
										<mat-select class="custom-mat-select select" placeholder="Select">
											<mat-option value="1">Select</mat-option>
											<mat-option value="1">Electro Mart</mat-option>
											<mat-option value="1">Quantum Gadgets</mat-option>
											<mat-option value="1">Prime Bazaar</mat-option>
											<mat-option value="1">Gadget World</mat-option>
										</mat-select>
									</div>
								</div>
								<div class="col-lg-12">
									<div class="mb-3">
										<label class="form-label">Responsible Person<span class="text-danger ms-1">*</span></label>
										<mat-select class="custom-mat-select select" placeholder="Select">
											<mat-option value="1">Select</mat-option>
											<mat-option value="1">James Kirwin</mat-option>
											<mat-option value="1">Francis Chang</mat-option>
											<mat-option value="1">Gary Hennessy</mat-option>
											<mat-option value="1">Eleanor Panek</mat-option>
										</mat-select>
									</div>
								</div>
							</div>
							
							<div class="col-lg-12">
								<div class="summer-description-box">
									<label class="form-label">Notes<span class="text-danger ms-1">*</span></label>
									<textarea class="form-control"></textarea>
								</div>
							</div>
						</div>
						<div class="modal-footer">
							<button type="button" class="btn btn-secondary me-2" data-bs-dismiss="modal">Cancel</button>
							<button type="submit" class="btn btn-primary" data-bs-dismiss="modal">Create Adjustment</button>
						</div>
					</form>
				</div>
			</div>
		</div>
		<!-- /Add Adjustment -->

		<!-- Edit Adjustment -->
		<div class="modal fade" id="edit-units">
			<div class="modal-dialog modal-dialog-centered stock-adjust-modal">
				<div class="modal-content">
					<div class="modal-header">
						<div class="page-title">
							<h4>Edit Adjustment</h4>
						</div>
						<button type="button" class="close" data-bs-dismiss="modal" aria-label="Close">
							<span aria-hidden="true">&times;</span>
						</button>
					</div>
					<form>
					<div class="modal-body">
						<div class="mb-3 search-form">
							<label class="form-label">Product<span class="text-danger ms-1">*</span></label>
							<input type="text" class="form-control" value="Nike Jordan">
							<i data-feather="search" class="feather icon-search"></i>
						</div>
						<div class="row">
							<div class="col-lg-6">
								<div class="mb-3">
									<label class="form-label">Warehouse<span class="text-danger ms-1">*</span></label>
									<mat-select class="custom-mat-select select" placeholder="Select">
										<mat-option value="1">Lavish Warehouse</mat-option>
											<mat-option value="1">Quaint Warehouse</mat-option>
											<mat-option value="1">Cool Warehouse</mat-option>
											<mat-option value="1">Retail Supply Hub</mat-option>
									</mat-select>
								</div>
							</div>
							<div class="col-lg-6">
								<div class="mb-3">
									<label class="form-label">Reference Number<span class="text-danger ms-1">*</span></label>
									<input type="text" class="form-control" value="PT002">
								</div>
							</div>
							<div class="col-lg-12">
								<div class="modal-body-table">
									<div class="table-responsive">
										<table class="table  datanew">
											<thead>
												<tr>
													<th>Product</th>
													<th>SKU</th>
													<th>Category</th>
													<th>Qty</th>
													<th>Type</th>
													<th></th>
												</tr>
											</thead>
											<tbody>
												<tr>
													<td>
														<div class="d-flex align-items-center">
															<a href="javascript:void(0);" class="avatar avatar-md me-2">
																<img src="assets/img/products/stock-img-02.png" alt="product">
															</a>
															<a href="javascript:void(0);">Nike Jordan</a>
														</div>												
													</td>
													<td>PT002</td>
													<td>Nike</td>
													<td>
														<div class="product-quantity border-0 bg-gray-transparent">
															<span class="quantity-btn"><i data-feather="minus-circle" class="feather icon-minus-circle"></i></span>
															<input type="text" class="quntity-input bg-transparent" value="2">
															<span class="quantity-btn">+<i data-feather="plus-circle" class="plus-circle"></i></span>
														</div>
													</td>
													<td>
														<mat-select class="custom-mat-select select" placeholder="Select">
															<mat-option value="1">Addition</mat-option>
															<mat-option value="1">Addition</mat-option>
															<mat-option value="1">Addition</mat-option>
														</mat-select>
													</td>
													<td>
														<div class="edit-delete-action d-flex align-items-center">
															<a class="p-2 border rounded d-flex align-items-center" href="javascript:void(0);" data-bs-toggle="modal" data-bs-target="#delete">
																<i data-feather="trash-2" class="feather icon-trash-2"></i>
															</a>
														</div>
														
													</td>
												</tr>
											</tbody>
										</table>
									</div>
								</div>
							</div>
							<div class="col-lg-12">
								<div class="mb-3">
									<label class="form-label">Store<span class="text-danger ms-1">*</span></label>
									<mat-select class="custom-mat-select select" placeholder="Electro Mart">
										<mat-option value="1">Select</mat-option>
										<mat-option value="1">Electro Mart</mat-option>
											<mat-option value="1">Quantum Gadgets</mat-option>
											<mat-option value="1">Prime Bazaar</mat-option>
											<mat-option value="1">Gadget World</mat-option>
									</mat-select>
								</div>
							</div>
							<div class="col-lg-12">
								<div class="mb-3">
									<label class="form-label">Responsible Person<span class="text-danger ms-1">*</span></label>
									<mat-select class="custom-mat-select select" placeholder="Steven">
										<mat-option value="1">James Kirwin</mat-option>
											<mat-option value="1">Francis Chang</mat-option>
											<mat-option value="1">Gary Hennessy</mat-option>
											<mat-option value="1">Eleanor Panek</mat-option>
									</mat-select>
								</div>
							</div>
							<div class="col-lg-12">
								<div class="mb-3 summer-description-box">
									<label class="form-label">Notes<span class="text-danger ms-1">*</span></label>
									<textarea class="form-control">The Jordan brand is owned by Nike (owned by the Knight family), as, at the time, the company was building its strategy to work with athletes to launch shows that could inspire consumers.Although Jordan preferred Converse and Adidas, they simply could not match the offer Nike made. </textarea>
								</div>
							</div>
						</div>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-secondary me-2" data-bs-dismiss="modal">Cancel</button>
						<button type="submit" class="btn btn-primary" data-bs-dismiss="modal">Save Changes</button>
					</div>
					</form>
				</div>
			</div>
		</div>
		<!-- /Edit Adjustment -->

		<!-- View Notes -->
		<div class="modal fade" id="view-notes">
			<div class="modal-dialog modal-dialog-centered">
				<div class="modal-content">
					<div class="modal-header">
						<div class="page-title">
							<h4>Notes</h4>
						</div>
						<button type="button" class="close" data-bs-dismiss="modal" aria-label="Close">
							<span aria-hidden="true">&times;</span>
						</button>
					</div>
					<div class="modal-body">
						<p>The Jordan brand is owned by Nike (owned by the Knight family), as, at the time, the company was building its strategy to work with athletes to launch shows that could inspire consumers.Although Jordan preferred Converse and Adidas, they simply could not match the offer Nike made. Jordan also signed with Nike because he loved the way they wanted to market him with the banned colored shoes. Nike promised to cover the fine Jordan would receive from the NBA.</p>
					</div>
				</div>
			</div>
		</div>
		<!-- /View Notes -->


      <!-- Delete -->
		<div class="modal fade modal-default" id="delete">
			<div class="modal-dialog modal-dialog-centered">
				<div class="modal-content">
					<div class="modal-body p-0">
						<div class="success-wrap text-center">
							<form>
								<div class="icon-success bg-danger-transparent text-danger mb-2">
									<i class="ti ti-trash"></i>
								</div>
								<h3 class="mb-2">Delete Stock</h3>
								<p class="fs-16 mb-3">Are you sure you want to delete product from stock?</p>
								<div class="d-flex align-items-center justify-content-center gap-2 flex-wrap">
									<button type="button" class="btn btn-md btn-secondary" data-bs-dismiss="modal">No, Cancel</button>
									<button type="submit" class="btn btn-md btn-primary" data-bs-dismiss="modal">Yes, Delete</button>
								</div>
							</form>
						</div>
					</div>
				</div>
			</div>
		</div>
		<!-- /Delete -->

